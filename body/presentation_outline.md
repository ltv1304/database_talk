## Список тем для доклада

1. Векторный поиск
2. Ряды
3. ExternalHash
4. Автоматизированное бекапирование отдельных таблиц


## Скелет доклада

1. Векторный поиск
    1. Кейсы, в которых недостаточно ILIKE 
    2. Какие есть альтернативы в Postgresql
    3. Реализация
    4. Особенности и нюансы
        - нормализация данных;
        - индексация GIN vs GiST;
        - префиксный поиск;
        - ранжирование.
        - pg_trgm
    5. Выводы;
    6. Бонус: семантический поиск (LLM-powered full-text search), на основе векторного представления текста (эмбеддинги)

2. TimescaleDB
    1. Кейсы, которые приводят к временным рядам
    2. Timescale (hypertable, partitioning)
    3. Реализация (интеграция в Rails)
    4. Плюсы/минусы
    5. Вывод

3. ExternalHash
    1. Кейсы, которые приводят к необходимости использования этого подхода:
        - хранилища становятся тяжелыми из-за жирных jsonb;
        - сложно бэкапить, сложно анализировать;
        - неудобно работать с такими данными — БД раздувается;
        - иногда JSON нужен редко, но весит много (например, архивное состояние сущности);
    2. ExternalHash
        В БД храним только идентификатор файда в хранилище. Сам JSON живёт в S3 (или другом внешнем хранилище). Подгружается лениво (или не подгружается вообще)
    3. Реализация
    4. Плюсы/минусы
    5. Вывод

4. Автоматизированное бэкапирование отдельных таблиц
    1. Кейсы, которые приводят к необходимости делать дампы отдельных БД при бекапе
        Полный pg_dump тяжелый. Не всегда нужен весь дамп.
    2. Реализация
    3. Сложности и грабли
    4. Вывод

## Тайминг

| Тема | Продолжительность | Объем текста | Слайды |
|-------------|-------------|-------------|-------------|
| **0 Вступление**|1 минута| ~100 слов | 1 слайд |
| 0.0 о чём доклад, чем может быть полезен| 1 минута | ~100 слов |
| **1 Поиск**|12 минут| ~1200 слов| 6 слайдов |
| 1.1 Кейсы, в которых недостаточно ILIKE| 1.5 минуты | ~120-150 слов |
| 1.2 Альтернативы в PostgreSQL| 1.5 минуты | ~120-150 слов |
| 1.3 Реализация (tsvector, tsquery)| 2 минуты | ~150-200 слов |
| 1.4 Детали реализации (+pg_trgm)| 3 минуты | ~150-200 слов |
| 1.5 Выводы| 1 минута | ~100 слов |
| 1.7 Бонус: семантический поиск | 3 минуты | ~250-300 слов |
| **2 TimescaleDB**|6 минут| ~600 слов| 3 слайда |
| 2.1 Временные ряды: откуда появляются | 1.5 минуты | ~120-150 слов |
| 2.2 TimescaleDB (Hypertable, partitioning) | 1 минута | ~100 слов |
| 2.3 Реализация в Rails | 1 минута | ~100 слов |
| 2.4 Плюсы/минусы | 1.5 минуты | ~120-150 слов |
| 2.5 Вывод | 1 минута | ~100 слов |
| **3 ExternalHash**|6 минут| ~600 слов| 3 слайда |
| 3.1 Проблемы жирных jsonb | 1.5 минуты | ~120-150 слов |
| 3.2 Идея ExternalHash | 1 минута | ~100 слов |
| 3.3 Реализация (S3 + AR) | 2 минуты | ~150-200 слов |
| 3.4 Плюсы/минусы | 1 минута | ~100 слов |
| 3.5 Выводы | 0.5 минута | ~50-70 слов |
| **4. Автоматизированное бэкапирование таблиц**|3 минуты| ~300 слов| 1 слайд |
| 4.1 Кейсы | 1 минута | ~100 слов |
| 4.2 Реализация | 1 минута | ~100 слов |
| 4.3 Грабли и вывод | 1 минута | ~100 слов |
| **0 Завершение**|1.5 минуты| - | 1 слайд |
| 0.1 Завершение/вопросы | 1.5 минуты | - |
